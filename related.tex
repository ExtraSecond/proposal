\section{Related Work}

\subsection{Types of OSes}

Operating system kernels can be divided into three types according to the design principle:

    \begin{itemize}
        \item Microkernel. A microkernel only includes minimal set of components in kernel mode to implement an operating system, such as IPC (inter-process communication) and memory management. GNU Hurd\cite{stallman1998gnu} is a typical example of microkernel.
        \item Monolithic kernel. A monolithic kernel entirely runs in kernel mode, which is composed of device management, memory management and system call. BSD\cite{mckusick1996design} and Linux\cite{stallman1997linux} are both widely used monolithic kernel.
        \item Hybrid kernel. Many OS kernels designed with microkernel principal implement some common structures in kernel mode rather than user mode, which combines the benefits of the microkernel and the monolithic kernel. NT\cite{solomon1998inside} and XNU\cite{singh2006mac} are both hybrid kernels.
    \end{itemize}

\subsection{OS in different programming languages}

\subsubsection{Rust}
Rust has contributed a lot to OS development trials in programming languages other than C.
Servo\cite{Servo} is a Rust version of the browser engine designed by Mozilla since browsers have become de facto operating systems nowadays.

There have also been attempts to write a new OS from scratch using Rust.
Redox\cite{Redox} is a microkernel-based OS, it is highly finished and useable with POSIX API implemented in Rust and a GUI for desktop users.
Some individuals are also writing personal blogs\cite{OsPhil} to write an OS from scratch step by step, yet it is still not finished and only runs in QEMU. 

Few attempts have been made on writing Rust based embedded OS, but none of them targets any specific security issues as we do.
Tock\cite{levy2015ownership, levy2017tock, levy2017multiprogramming} is an embedded operating system designed for running multiple concurrent, mutually distrustful applications on Cortex-M and RISC-V based embedded platforms.
There have been community efforts to deliver tutorials through Github.com\cite{rpi-os-t0, rpi-os-t1}
Sergio also finished an IoT OS framework in Rust\cite{cs140e} and leave the rest to the student as the course project in CS140e at Stanford.

\subsubsection{C\#}

C\# Open-Source Managed Operating System (COSMOS) \cite{cosmos} is the first to translate C\# into Common Intermediate Language(CIL) and then use IL2CPU(IL to CPU) to translate CIL to machine codes.
IL2CPU is an Ahead-of-Time(AOT) compiler that is written in a CIL compliant language(C\#). 
Now they only achieve a High-Level Assembler (HLA) for X86/X64 assembly. In the future, other processors are planned.

\subsubsection{Java}

Java New Operating System Design Effort (JNode)\cite{jnode} is a Java OS for personal use that runs on modern devices.
JNode is microkernel structured, its kernel and VM are written in assembler. 
To enhance performance, all Java code executed on Jnode is compiled to native code on-the-fly before it is executed.Â 

\subsection{IoT Security}

In an IoT system, different IoT devices connect and interact with each other through the network, which makes it vulnerable when devices are directly exposed. 
Common security issues of the IoT system are divided into three categories: low-level issues, intermediate-level security issues, and high-level security issues.

Low-level security is based on vulnerabilities in the physical layer of network and hardware layers of devices. 
For example, jamming attacks create illegal radio signals to disturb normal wireless communication between IoT devices\cite{xu2005feasibility,noubir2003low}. 
In addressing-spoofing attack, adversarial devices masquerade as normal devices to spread malicious network packets\cite{chen2007detecting}.

Intermediate-level security deals with transportation layer security, such as the routing mechanism. 
RPL attack is based on the vulnerability of the routing protocol for low-power and lossy networks(RPL)\cite{dvir2011vera}. 
Attackers may compromise devices in a network to leak private data.

High-level security concerns about vulnerable applications and interfaces on IoT devices. 
Many IoT management web interfaces are susceptible to attacks\cite{owasp2016url}. 
Insecure middleware for data process and behavior analysis may cause security issues such as MitM attack\cite{conzon2012virtus,levy2015ownership}. 
And insecure firmware may also throw a great threat to data privacy\cite{owasp2016url}.

Some research aims to develop trustworthy standards of security IoT devices and software. 
\textit{The Seven Properties}\cite{hunt2017the} come up with several required properties of highly secure devices, which cover many significant aspects of IoT security, such as trusted computing, authentication, failure reporting, etc.

SPIN\cite{hesselman2017spin} provides a set of a complete solution for in-home network security. 
It detects many common networks issue, including DoS attack, privacy data leaking, and device compromising.
